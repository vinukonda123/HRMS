
 {%extends 'hr/base.html'%}

{%block content%}

<head>
    <style>





        .nav-tabs li a {
            padding: 0.75rem 1.25rem;
        }

        .nav-tabs.vertical li {
            border: 1px solid #ddd;
            display: block;
            width: 100%
        }

.star{
  color:red;
}




#general{
  color: orange;
}


.modal-backdrop{
    --bs-backdrop-bg: #00000094;
}








    </style>



<link rel="stylesheet"  href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.3.0/css/bootstrap.min.css">
<link rel="stylesheet"  href="https://cdn.datatables.net/1.13.6/css/dataTables.bootstrap5.min.css">

     <script src="https://code.jquery.com/jquery-3.7.0.js"></script>
<script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.13.6/js/dataTables.bootstrap5.min.js"></script>






        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">


    <link rel="stylesheet"  href="https://cdn.datatables.net/1.13.5/css/jquery.dataTables.min.css">
     <script src="https://code.jquery.com/jquery-3.7.0.js"></script>
     <script src="https://cdn.datatables.net/1.13.5/js/jquery.dataTables.min.js"></script>
</head>



<main id="main" class="main">


    <section class="section profile">

        <div class="col-xl-12 col-lg-4">

          <div class="card" style="box-shadow:20px 20px 60px whitesmoke,-20px -20px 60px whitesmoke;padding-top: 30px; padding-right: 70px; padding-bottom: 50px; padding-left: 50px;" >


          <h3 class="pt-3 ml-3" style="color:#FF1493;padding-top:1px;font-family:math"><b>Leave Reports</b></h3><hr>



<!--Table-->
<table id="leave-table" class="display mt-5">
                    <!-- Table head -->
                    <thead>
                        <tr>
                            <th style="background-color:#EDECEA;">Leave Type</th>
                            <th style="background-color:#EDECEA;">Start Date</th>
                            <th style="background-color:#EDECEA;">End Date</th>
                            <th style="background-color:#EDECEA;">Total Days</th>
                            <th style="background-color:#EDECEA;">Reason</th>
                            <th style="background-color:#EDECEA;">Approved By</th>
                            <th style="background-color:#EDECEA;">Status</th>
                        </tr>
                    </thead>
                    <!-- Table head -->

                    <!-- Table body -->
                    <tbody>
                        {% regroup leave_requests by employee.username as employee_leave_requests %}

                        {% for employee_group in employee_leave_requests %}




                             <tr class="group-row">
                                <td  colspan="7"><strong>{{ employee_group.grouper|upper }}</strong></td>
                            </tr>
                            {% for leave_request in employee_group.list %}
                                <tr class="">
                                    <td>{{ leave_request.LeaveCategory }}</td>
                                    <td>{{ leave_request.StartDate }}</td>
                                    <td>{{ leave_request.EndDate }}</td>
                                    <td>{{ leave_request.totaldays }}</td>
                                    <td>{{ leave_request.reason }}</td>
                                    <td>{{ leave_request.approvedby }}</td>

                                    {% if leave_request.status == "Approved" %}
                                        <td><span class="badge bg-success">{{ leave_request.status }}</span></td>
                                    {% elif leave_request.status == "Rejected" %}
                                        <td><span class="badge bg-danger">{{ leave_request.status }}</span></td>
                                    {% elif leave_request.status == "Pending" %}
                                        <td><span class="badge bg-warning">{{ leave_request.status }}</span></td>
                                    {% endif %}
                                </tr>
                            {% endfor %}
                        {% endfor %}
                    </tbody>
                    <!-- Table body -->
                </table>


        </div>
      </div>
    </section>

  </main><!-- End #main -->
<!-- ... Your HTML code ... -->
<!-- ... Your HTML code ... -->

<script>
      new DataTable('#leave-table');
</script>

{% endblock %}

