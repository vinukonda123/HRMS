{%extends 'base1.html'%}
{%block content%}
{% include 'hr/emails/sideber.html' %}
<head>
   <title>samrt hrms</title>

<link rel="stylesheet"  href="https://cdn.datatables.net/1.13.5/css/jquery.dataTables.min.css">
   <script src="https://code.jquery.com/jquery-3.7.0.js"></script>
   <script src="https://cdn.datatables.net/1.13.5/js/jquery.dataTables.min.js"></script>
   <style>

body {
    font-family: 'Poppins' !important ;
}



b, strong {
    font-weight: 600 !important;
}

      .btn-group button {
      background-color: #d3e3fd; /* Green background */
      border: 1px solid white; /* Green border */
      color: black; /* White text */
      padding: 20px 24px; /* Some padding */
      cursor: pointer; /* Pointer/hand icon */
      width: 20%; /* Set a width if needed */
      display: block; /* Make the buttons appear below each other */
      border-radius:15px;
      font-size:17px;
      font-weight:600;
      }
      .btn-group button:not(:last-child) {
      border-bottom: none; /* Prevent double borders */
      }
      /* Add a background color on hover */
      .btn-group button:hover {
      background-color: #d3e3fd;
      }
   </style>
   <style>

      td{
      color:black;
      font-weight:400;
      padding:15px;
      border:1px solid #b7202054;
      }
   </style>
</head>
<main id="main" class="main">
   <section class="section profile">
      <div class="col-xl-12 col-lg-4">
         <div class="card" style="box-shadow: 20px 20px 60px whitesmoke, -20px -20px 60px whitesmoke; padding-top: 50px; padding-right: 1px; padding-bottom: 50px; padding-left: 50px;">

            <div class="btn-group flex-column">
               <div class="row">
                  <div class="col-sm-3">
                     <a href="{%url 'compose_employee' %}" style="text-decoration:none"><button class="" style="width:79%;height:23%;padding-top:4%;">Compose()</button></a>
                     <a href="{%url 'receive_emails_employee' %}" style="text-decoration:none"><button class="" style="width:79%;height:23%;padding-top:4%;">Inbox({{received_emails_count}})</button></a>
                     <a href="{%url 'sent_emails_employee' %}" style="text-decoration:none">
                        <button class="" style="width:79%;height:23%;padding-top:4%;">
                           Sent({{sent_emails_count}})
                        </button>
                     </a>
                     <a href="{%url 'delete_emails_employee' %}" style="text-decoration:none"> <button class="" style="width:79%;height:23%;padding-top:4%;">Delete({{delete_emails_count}})</button></a>
                  </div>
                  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-9 col-xl-9 col-xxl-9" style="margin-left:-4%">
                     <h4 style="font-family:math">Received Emails</h4>

      <table id="email-table" class="table">
                         <thead>
                                           <tr>
                                           <th style="background-color:#EDECEA;">send to</th>
                                           <th style="background-color:#EDECEA;">subject</th>
                                                <th style="background-color:#EDECEA;">message</th>
                                                <th style="background-color:#EDECEA;">Time</th>


                                           </thead>
                         <tbody>

                        {%for i in received_emails %}
                        {% for recipient in  i.recipient.all %}
                        {% if recipient.username == user.username %}
                        <tr style="width:100%">
                           <td>  <a href="{%url 'receive_email_details_employee' i.id %}" style="text-decoration:none"><b>{{ recipient.username|upper }}</b></a></td>
                           {% endif %}
                           {% endfor %}
                           <td>Sub  :{{i.subject|slice:'0:8'}}...</td>
                           <td>Message  :{{i.message|slice:'0:8'}}...</td>
                           <td>Time:{{i.timestamp|date:'d-m-Y H:i'}}..</td>

                        </tr>
                        &nbsp;
                        {%endfor%}</tbody>
                     </table><p></p>
                     <div class="pagination">
    <ul class="pagination">
        {% if received_emails.has_previous %}
            <li class="page-item"><a class="page-link" href="?page=1">&laquo; first</a></li>
            <li class="page-item"><a class="page-link" href="?page={{ received_emails.previous_page_number }}">previous</a></li>
        {% endif %}

        {% for i in received_emails.paginator.page_range %}
            <li class="page-item {% if received_emails.number == i %}active{% endif %}">
                <a class="page-link" href="?page={{ i }}">{{ i }}</a>
            </li>
        {% endfor %}

        {% if received_emails.has_next %}
            <li class="page-item"><a class="page-link" href="?page={{ received_emails.next_page_number }}">next</a></li>
            <li class="page-item"><a class="page-link" href="?page={{ received_emails.paginator.num_pages }}">&raquo; last</a></li>
        {% endif %}
    </ul>
</div>

                  </div>




               </div>
            </div>
         </div>
      </div>
      </div>
   </section>
</main>
 <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

{%endblock%}